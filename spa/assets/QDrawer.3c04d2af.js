import{R as Me,r as C,c as o,w as d,E as ve,h as r,g as fe,G as me,S as We,H as He,O as ee,o as Ne,U as oe,i as Re,P as je}from"./index.b0880704.js";import{a as ze,Q as te}from"./QItem.fe02b4cc.js";import{Q as le}from"./QItemLabel.0f4519f1.js";import{Q as ue}from"./QIcon.dfcc865e.js";import{Q as Ee}from"./QSlideTransition.0797fa38.js";import{Q as re}from"./QSeparator.cf4679c4.js";import{u as ge,a as he}from"./use-dark.1d74980c.js";import{u as be}from"./use-router-link.bf3751cb.js";import{a as ye,d as we,h as xe}from"./position-engine.1c5a1552.js";import{c as Se,h as ke,f as se}from"./render.3075bf0b.js";import{u as de}from"./uid.42677368.js";import{u as Ve,a as Fe}from"./use-prevent-scroll.8e9abb27.js";import{a as Ue}from"./use-timeout.c76c0710.js";import{T as ae}from"./TouchPan.cea63e9e.js";import{b as G}from"./format.a33550d6.js";const $=Me({}),Ge=Object.keys(be);var dt=Se({name:"QExpansionItem",props:{...be,...ye,...ge,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...we,"click","afterShow","afterHide"],setup(e,{slots:L,emit:y}){const{proxy:{$q:B}}=fe(),g=he(e,B),u=C(e.modelValue!==null?e.modelValue:e.defaultOpened),M=C(null),A=de(),{show:H,hide:N,toggle:a}=xe({showing:u});let h,c;const _=o(()=>`q-expansion-item q-item-type q-expansion-item--${u.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),s=o(()=>{if(e.contentInsetLevel===void 0)return null;const n=B.lang.rtl===!0?"Right":"Left";return{["padding"+n]:e.contentInsetLevel*56+"px"}}),x=o(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),v=o(()=>{const n={};return Ge.forEach(m=>{n[m]=e[m]}),n}),l=o(()=>x.value===!0||e.expandIconToggle!==!0),R=o(()=>e.expandedIcon!==void 0&&u.value===!0?e.expandedIcon:e.expandIcon||B.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),j=o(()=>e.disable!==!0&&(x.value===!0||e.expandIconToggle===!0)),z=o(()=>({expanded:u.value===!0,detailsId:e.targetUid,toggle:a,show:H,hide:N})),Q=o(()=>{const n=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:B.lang.label[u.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":u.value===!0?"true":"false","aria-controls":A,"aria-label":n}});d(()=>e.group,n=>{c!==void 0&&c(),n!==void 0&&k()});function O(n){x.value!==!0&&a(n),y("click",n)}function K(n){n.keyCode===13&&E(n,!0)}function E(n,m){m!==!0&&M.value!==null&&M.value.focus(),a(n),He(n)}function P(){y("afterShow")}function w(){y("afterHide")}function k(){h===void 0&&(h=de()),u.value===!0&&($[e.group]=h);const n=d(u,S=>{S===!0?$[e.group]=h:$[e.group]===h&&delete $[e.group]}),m=d(()=>$[e.group],(S,X)=>{X===h&&S!==void 0&&S!==h&&N()});c=()=>{n(),m(),$[e.group]===h&&delete $[e.group],c=void 0}}function V(){const n={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},m=[r(ue,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&u.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:R.value})];return j.value===!0&&(Object.assign(n,{tabindex:0,...Q.value,onClick:E,onKeyup:K}),m.unshift(r("div",{ref:M,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),r(te,n,()=>m)}function q(){let n;return L.header!==void 0?n=[].concat(L.header(z.value)):(n=[r(te,()=>[r(le,{lines:e.labelLines},()=>e.label||""),e.caption?r(le,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&n[e.switchToggleSide===!0?"push":"unshift"](r(te,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>r(ue,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&n[e.switchToggleSide===!0?"unshift":"push"](V()),n}function W(){const n={ref:"item",style:e.headerStyle,class:e.headerClass,dark:g.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return l.value===!0&&(n.clickable=!0,n.onClick=O,Object.assign(n,x.value===!0?v.value:Q.value)),r(ze,n,q)}function F(){return me(r("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:s.value,id:A},ke(L.default)),[[We,u.value]])}function D(){const n=[W(),r(Ee,{duration:e.duration,onShow:P,onHide:w},F)];return e.expandSeparator===!0&&n.push(r(re,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:g.value}),r(re,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:g.value})),n}return e.group!==void 0&&k(),ve(()=>{c!==void 0&&c()}),()=>r("div",{class:_.value},[r("div",{class:"q-expansion-item__container relative-position"},D())])}});const ce=150;var ct=Se({name:"QDrawer",inheritAttrs:!1,props:{...ye,...ge,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...we,"onLayout","miniState"],setup(e,{slots:L,emit:y,attrs:B}){const g=fe(),{proxy:{$q:u}}=g,M=he(e,u),{preventBodyScroll:A}=Fe(),{registerTimeout:H,removeTimeout:N}=Ue(),a=Re(je,ee);if(a===ee)return console.error("QDrawer needs to be child of QLayout"),ee;let h,c=null,_;const s=C(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),x=o(()=>e.mini===!0&&s.value!==!0),v=o(()=>x.value===!0?e.miniWidth:e.width),l=C(e.showIfAbove===!0&&s.value===!1?!0:e.modelValue===!0),R=o(()=>e.persistent!==!0&&(s.value===!0||X.value===!0));function j(t,i){if(K(),t!==!1&&a.animate(),b(0),s.value===!0){const f=a.instances[D.value];f!==void 0&&f.belowBreakpoint===!0&&f.hide(!1),I(1),a.isContainer.value!==!0&&A(!0)}else I(0),t!==!1&&Y(!1);H(()=>{t!==!1&&Y(!0),i!==!0&&y("show",t)},ce)}function z(t,i){E(),t!==!1&&a.animate(),I(0),b(k.value*v.value),Z(),i!==!0?H(()=>{y("hide",t)},ce):N()}const{show:Q,hide:O}=xe({showing:l,hideOnRouteChange:R,handleShow:j,handleHide:z}),{addToHistory:K,removeFromHistory:E}=Ve(l,O,R),P={belowBreakpoint:s,hide:O},w=o(()=>e.side==="right"),k=o(()=>(u.lang.rtl===!0?-1:1)*(w.value===!0?1:-1)),V=C(0),q=C(!1),W=C(!1),F=C(v.value*k.value),D=o(()=>w.value===!0?"left":"right"),n=o(()=>l.value===!0&&s.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:v.value:0),m=o(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(w.value?"R":"L")>-1||u.platform.is.ios===!0&&a.isContainer.value===!0),S=o(()=>e.overlay===!1&&l.value===!0&&s.value===!1),X=o(()=>e.overlay===!0&&l.value===!0&&s.value===!1),qe=o(()=>"fullscreen q-drawer__backdrop"+(l.value===!1&&q.value===!1?" hidden":"")),Ie=o(()=>({backgroundColor:`rgba(0,0,0,${V.value*.4})`})),ne=o(()=>w.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),Te=o(()=>w.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),Ce=o(()=>{const t={};return a.header.space===!0&&ne.value===!1&&(m.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&Te.value===!1&&(m.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),Le=o(()=>{const t={width:`${v.value}px`,transform:`translateX(${F.value}px)`};return s.value===!0?t:Object.assign(t,Ce.value)}),Be=o(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),_e=o(()=>`q-drawer q-drawer--${e.side}`+(W.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(M.value===!0?" q-drawer--dark q-dark":"")+(q.value===!0?" no-transition":l.value===!0?"":" q-layout--prevent-focus")+(s.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${x.value===!0?"mini":"standard"}`+(m.value===!0||S.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ne.value===!0?" q-drawer--top-padding":""))),Oe=o(()=>{const t=u.lang.rtl===!0?e.side:D.value;return[[ae,Pe,void 0,{[t]:!0,mouse:!0}]]}),$e=o(()=>{const t=u.lang.rtl===!0?D.value:e.side;return[[ae,ie,void 0,{[t]:!0,mouse:!0}]]}),Ae=o(()=>{const t=u.lang.rtl===!0?D.value:e.side;return[[ae,ie,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function J(){De(s,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}d(s,t=>{t===!0?(h=l.value,l.value===!0&&O(!1)):e.overlay===!1&&e.behavior!=="mobile"&&h!==!1&&(l.value===!0?(b(0),I(0),Z()):Q(!1))}),d(()=>e.side,(t,i)=>{a.instances[i]===P&&(a.instances[i]=void 0,a[i].space=!1,a[i].offset=0),a.instances[t]=P,a[t].size=v.value,a[t].space=S.value,a[t].offset=n.value}),d(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&J()}),d(()=>e.behavior+e.breakpoint,J),d(a.isContainer,t=>{l.value===!0&&A(t!==!0),t===!0&&J()}),d(a.scrollbarWidth,()=>{b(l.value===!0?0:void 0)}),d(n,t=>{T("offset",t)}),d(S,t=>{y("onLayout",t),T("space",t)}),d(w,()=>{b()}),d(v,t=>{b(),p(e.miniToOverlay,t)}),d(()=>e.miniToOverlay,t=>{p(t,v.value)}),d(()=>u.lang.rtl,()=>{b()}),d(()=>e.mini,()=>{e.modelValue===!0&&(Qe(),a.animate())}),d(x,t=>{y("miniState",t)});function b(t){t===void 0?oe(()=>{t=l.value===!0?0:v.value,b(k.value*t)}):(a.isContainer.value===!0&&w.value===!0&&(s.value===!0||Math.abs(t)===v.value)&&(t+=k.value*a.scrollbarWidth.value),F.value=t)}function I(t){V.value=t}function Y(t){const i=t===!0?"remove":a.isContainer.value!==!0?"add":"";i!==""&&document.body.classList[i]("q-body--drawer-toggle")}function Qe(){c!==null&&clearTimeout(c),g.proxy&&g.proxy.$el&&g.proxy.$el.classList.add("q-drawer--mini-animate"),W.value=!0,c=setTimeout(()=>{c=null,W.value=!1,g&&g.proxy&&g.proxy.$el&&g.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Pe(t){if(l.value!==!1)return;const i=v.value,f=G(t.distance.x,0,i);if(t.isFinal===!0){f>=Math.min(75,i)===!0?Q():(a.animate(),I(0),b(k.value*i)),q.value=!1;return}b((u.lang.rtl===!0?w.value!==!0:w.value)?Math.max(i-f,0):Math.min(0,f-i)),I(G(f/i,0,1)),t.isFirst===!0&&(q.value=!0)}function ie(t){if(l.value!==!0)return;const i=v.value,f=t.direction===e.side,U=(u.lang.rtl===!0?f!==!0:f)?G(t.distance.x,0,i):0;if(t.isFinal===!0){Math.abs(U)<Math.min(75,i)===!0?(a.animate(),I(1),b(0)):O(),q.value=!1;return}b(k.value*U),I(G(1-U/i,0,1)),t.isFirst===!0&&(q.value=!0)}function Z(){A(!1),Y(!0)}function T(t,i){a.update(e.side,t,i)}function De(t,i){t.value!==i&&(t.value=i)}function p(t,i){T("size",t===!0?e.miniWidth:i)}return a.instances[e.side]=P,p(e.miniToOverlay,v.value),T("space",S.value),T("offset",n.value),e.showIfAbove===!0&&e.modelValue!==!0&&l.value===!0&&e["onUpdate:modelValue"]!==void 0&&y("update:modelValue",!0),Ne(()=>{y("onLayout",S.value),y("miniState",x.value),h=e.showIfAbove===!0;const t=()=>{(l.value===!0?j:z)(!1,!0)};if(a.totalWidth.value!==0){oe(t);return}_=d(a.totalWidth,()=>{_(),_=void 0,l.value===!1&&e.showIfAbove===!0&&s.value===!1?Q(!1):t()})}),ve(()=>{_!==void 0&&_(),c!==null&&(clearTimeout(c),c=null),l.value===!0&&Z(),a.instances[e.side]===P&&(a.instances[e.side]=void 0,T("size",0),T("offset",0),T("space",!1))}),()=>{const t=[];s.value===!0&&(e.noSwipeOpen===!1&&t.push(me(r("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Oe.value)),t.push(se("div",{ref:"backdrop",class:qe.value,style:Ie.value,"aria-hidden":"true",onClick:O},void 0,"backdrop",e.noSwipeBackdrop!==!0&&l.value===!0,()=>Ae.value)));const i=x.value===!0&&L.mini!==void 0,f=[r("div",{...B,key:""+i,class:[Be.value,B.class]},i===!0?L.mini():ke(L.default))];return e.elevated===!0&&l.value===!0&&f.push(r("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(se("aside",{ref:"content",class:_e.value,style:Le.value},f,"contentclose",e.noSwipeClose!==!0&&s.value===!0,()=>$e.value)),r("div",{class:"q-drawer-container"},t)}}});export{dt as Q,ct as a};
