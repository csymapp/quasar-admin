import{Q as w}from"./QIcon.dfcc865e.js";import{Q as _}from"./QInput.ba772abc.js";import{Q as P}from"./QTooltip.c7d0c5ad.js";import{Q as u}from"./QBtn.bac35353.js";import{Q}from"./QTable.7a26f5fd.js";import{Q as U}from"./QCardSection.a05d92e6.js";import{Q as C}from"./QCard.7b819f93.js";import{b as T}from"./render.3075bf0b.js";import{l as x,m as V}from"./position-engine.1c5a1552.js";import{z as q,_ as E,j as L,r as B,k as p,l as D,p as N,d as l,m as d,v as f,G as $,t as j,u as F,s as R}from"./index.b0880704.js";import{u as S}from"./use-quasar.de41d8ac.js";import"./use-size.d11174ce.js";import"./use-key-composition.9bd8685b.js";import"./QSpinner.b9a97cc8.js";import"./use-dark.1d74980c.js";import"./uid.42677368.js";import"./focus-manager.d6507951.js";import"./use-form.f8b3f6f8.js";import"./use-timeout.c76c0710.js";import"./use-router-link.bf3751cb.js";import"./scroll.f7331efc.js";import"./dom.30c7df43.js";import"./selection.8c909102.js";import"./QSeparator.cf4679c4.js";import"./QList.c796930c.js";import"./QMarkupTable.f8c9d30c.js";import"./QSelect.ea52f11b.js";import"./QChip.9a423812.js";import"./QItem.fe02b4cc.js";import"./QItemLabel.0f4519f1.js";import"./QMenu.a2cd3b19.js";import"./use-prevent-scroll.8e9abb27.js";import"./rtl.b51694b1.js";import"./format.a33550d6.js";import"./QCheckbox.04e77abd.js";function b(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const o=parseInt(e,10);return isNaN(o)?0:o}var I=T({name:"close-popup",beforeMount(e,{value:o}){const t={depth:b(o),handler(n){t.depth!==0&&setTimeout(()=>{const r=x(e);r!==void 0&&V(r,n,t.depth)})},handlerKey(n){q(n,13)===!0&&t.handler(n)}};e.__qclosepopup=t,e.addEventListener("click",t.handler),e.addEventListener("keyup",t.handlerKey)},updated(e,{value:o,oldValue:t}){o!==t&&(e.__qclosepopup.depth=b(o))},beforeUnmount(e){const o=e.__qclosepopup;e.removeEventListener("click",o.handler),e.removeEventListener("keyup",o.handlerKey),delete e.__qclosepopup}});function g(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function K(e,o,t={}){const{mimeType:n,byteOrderMark:r,encoding:a}=typeof t=="string"?{mimeType:t}:t,s=a!==void 0?new TextEncoder(a).encode([o]):o,m=r!==void 0?[r,s]:[s],v=new Blob(m,{type:n||"application/octet-stream"}),i=document.createElement("a");i.href=window.URL.createObjectURL(v),i.setAttribute("download",e),typeof i.download=="undefined"&&i.setAttribute("target","_blank"),i.classList.add("hidden"),i.style.position="fixed",document.body.appendChild(i);try{return i.click(),g(i),!0}catch(k){return g(i),k}}function h(e,o){let t=o!==void 0?o(e):e;return t=t==null?"":String(t),t=t.split('"').join('""'),`"${t}"`}const c=[{name:"id",align:"left",label:"User ID",field:"id",sortable:!0},{name:"user_name",align:"left",label:"User Name",field:"user_name",sortable:!0},{name:"desc",required:!0,label:"Page",align:"left",field:e=>e.name,sortable:!0},{name:"date",align:"right",label:"Date",field:"date",sortable:!0}],y=[{id:"U0001",name:"/login",date:"12-10-2019",user_name:"Pratik Patel"},{id:"U0002",name:"/Dashboard",date:"11-02-2019",user_name:"Razvan Stoenescu"},{id:"U0003",name:"/Map",date:"03-25-2019",user_name:"Pratik Patel"},{id:"U0004",name:"/Mail",date:"03-18-2019",user_name:"Jeff Galbraith"},{id:"U0005",name:"/Profile",date:"04-09-2019",user_name:"Pratik Patel"}],M=L({name:"TableVisits",setup(){const e=S();return{filter:B(""),mode:"list",columns:c,rows:y,pagination:{rowsPerPage:10},exportTable(){const t=[c.map(r=>h(r.label))].concat(y.map(r=>c.map(a=>h(typeof a.field=="function"?a.field(r):r[a.field===void 0?a.name:a.field],a.format)).join(","))).join(`\r
`);K("table-export.csv",t,"text/csv")!==!0&&e.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})}}}}),O={class:"row q-col-gutter-sm"},z={class:"col-lg-12 col-md-12 col-sm-12 col-xs-12"};function A(e,o,t,n,r,a){return p(),D("div",O,[N("div",z,[l(C,{class:"text-grey-8 no-shadow",bordered:""},{default:d(()=>[l(U,{class:"q-pa-none"},{default:d(()=>[l(Q,{class:"no-shadow",rows:e.rows,title:"Page Visits","hide-header":e.mode==="grid",columns:e.columns,"row-key":"name",filter:e.filter,pagination:e.pagination,"onUpdate:pagination":o[1]||(o[1]=s=>e.pagination=s)},{"top-right":d(s=>[l(_,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":o[0]||(o[0]=m=>e.filter=m),placeholder:"Search"},{append:d(()=>[l(w,{name:"search"})]),_:1},8,["modelValue"]),e.mode==="list"?(p(),f(u,{key:0,flat:"",round:"",dense:"",icon:s.inFullscreen?"fullscreen_exit":"fullscreen",onClick:s.toggleFullscreen,class:"q-px-sm"},{default:d(()=>[$((p(),f(P,{disable:e.$q.platform.is.mobile},{default:d(()=>[j(F(s.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)]),_:2},1032,["disable"])),[[I]])]),_:2},1032,["icon","onClick"])):R("",!0),l(u,{color:"primary","icon-right":"archive",label:"Export to csv","no-caps":"",onClick:e.exportTable},null,8,["onClick"])]),_:1},8,["rows","hide-header","columns","filter","pagination"])]),_:1})]),_:1})])])}var xe=E(M,[["render",A]]);export{xe as default};
